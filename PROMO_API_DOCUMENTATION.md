# üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤

## –ë–∞–∑–æ–≤—ã–π URL

```
https://grangy.ru/api/promo
```

## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–î–ª—è –∞–¥–º–∏–Ω—Å–∫–∏—Ö endpoints —Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–≥–æ–ª–æ–≤–æ–∫:
```
X-Admin-Secret: –≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á
```

–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è `ADMIN_BROADCAST_SECRET`.

---

## üîì –ü—É–±–ª–∏—á–Ω—ã–µ Endpoints (–±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)

### POST `/api/promo/activate`

–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø: —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∏–ª–∏ –∞–¥–º–∏–Ω—Å–∫–∏–π).

**–ó–∞–ø—Ä–æ—Å:**
```json
{
  "telegramId": "683203214",
  "code": "444"
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `telegramId` (string, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `code` (string, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) - –ö–æ–¥ –ø—Ä–æ–º–æ–∫–æ–¥–∞ (–ª—é–±–æ–π –¥–ª–∏–Ω—ã –¥–ª—è –∞–¥–º–∏–Ω—Å–∫–∏—Ö, 4-32 —Å–∏–º–≤–æ–ª–∞ –¥–ª—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã—Ö)

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (–ø—Ä–æ–º–æ–∫–æ–¥ –Ω–∞ –±–∞–ª–∞–Ω—Å):**
```json
{
  "ok": true,
  "data": {
    "promoType": "admin_balance",
    "promoCategory": "money",
    "message": "üéâ –ü—Ä–æ–º–æ–∫–æ–¥ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!\n\nüíµ –ù–∞—á–∏—Å–ª–µ–Ω–æ: 500 ‚ÇΩ\nüí≥ –í–∞—à –±–∞–ª–∞–Ω—Å: 1500 ‚ÇΩ\n\n–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∫—É–ø–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –≤ —Ä–∞–∑–¥–µ–ª–µ \"üõí –ö—É–ø–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É\"",
    "code": "444",
    "reward": {
      "type": "balance",
      "amount": 500,
      "currency": "RUB"
    },
    "balance": {
      "current": 1500,
      "currency": "RUB"
    }
  }
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (–ø—Ä–æ–º–æ–∫–æ–¥ –Ω–∞ –¥–Ω–∏):**
```json
{
  "ok": true,
  "data": {
    "promoType": "admin_days",
    "promoCategory": "days",
    "message": "üéâ –ø—Ä–æ–º–æ–∫–æ–¥ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!\n\n‚úÖ –í–∞–º –Ω–∞—á–∏—Å–ª–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ 30 –¥–Ω–µ–π\n\nüîó –°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ–¥–ø–∏—Å–∫—É: https://vpn.grangy.ru/sub/...\n\nüì± –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –≤ —Ä–∞–∑–¥–µ–ª–µ \"üìñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏\"",
    "code": "BLOGER2024",
    "reward": {
      "type": "subscription",
      "days": 30,
      "startDate": "2026-01-20T12:00:00.000Z",
      "endDate": "2026-02-19T12:00:00.000Z"
    },
    "subscription": {
      "id": 123,
      "subscriptionUrl": "https://vpn.grangy.ru/sub/...",
      "subscriptionUrl2": "https://rus2.grangy.ru:8888/sub/...",
      "startDate": "2026-01-20T12:00:00.000Z",
      "endDate": "2026-02-19T12:00:00.000Z"
    }
  }
}
```

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (—Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥):**
```json
{
  "ok": true,
  "data": {
    "promoType": "referral",
    "promoCategory": "referral",
    "message": "‚úÖ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!\n\nüéÅ –í—ã –ø–æ–ª—É—á–∏–ª–∏ VPN –Ω–∞ 3 –¥–Ω—è...",
    "code": "A1B2C3D4",
    "reward": {
      "type": "subscription",
      "days": 3,
      "startDate": "2026-01-20T12:00:00.000Z",
      "endDate": "2026-01-23T12:00:00.000Z"
    },
    "subscription": {
      "id": 124,
      "subscriptionUrl": "https://vpn.grangy.ru/sub/...",
      "subscriptionUrl2": "https://rus2.grangy.ru:8888/sub/...",
      "startDate": "2026-01-20T12:00:00.000Z",
      "endDate": "2026-01-23T12:00:00.000Z"
    }
  }
}
```

**–û—à–∏–±–∫–∞ (–ø—Ä–æ–º–æ–∫–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω):**
```json
{
  "ok": false,
  "error": "ACTIVATION_FAILED",
  "message": "‚ùå –¢–∞–∫–æ–π –ø—Ä–æ–º–æ–∫–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω."
}
```

**–û—à–∏–±–∫–∞ (–ø—Ä–æ–º–æ–∫–æ–¥ —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω):**
```json
{
  "ok": false,
  "error": "ACTIVATION_FAILED",
  "message": "‚ùå –í—ã —É–∂–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª–∏ —ç—Ç–æ—Ç –ø—Ä–æ–º–æ–∫–æ–¥ —Ä–∞–Ω–µ–µ."
}
```

**–û—à–∏–±–∫–∞ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω):**
```json
{
  "ok": false,
  "error": "USER_NOT_FOUND",
  "message": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω"
}
```

---

### GET `/api/user/:telegramId/promo`

–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–º–æ–∫–æ–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∞–∫—Ç–∏–≤–∞—Ü–∏–π.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:**
- `telegramId` (string) - Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:**
```json
{
  "ok": true,
  "data": {
    "promoCode": "A1B2C3D4",
    "hasPromoCode": true,
    "activations": {
      "count": 5,
      "totalAmount": 0,
      "list": [
        {
          "id": 1,
          "amount": 0,
          "createdAt": "2026-01-20T10:00:00.000Z",
          "activator": {
            "id": 2,
            "telegramId": "123456789",
            "username": "@username"
          }
        }
      ]
    },
    "activated": {
      "amount": 0,
      "createdAt": "2026-01-19T15:00:00.000Z",
      "codeOwner": {
        "id": 3,
        "telegramId": "987654321",
        "username": "@owner",
        "promoCode": "X9Y8Z7W6"
      }
    }
  }
}
```

---

### GET `/api/promo/list`

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ (–∞–¥–º–∏–Ω—Å–∫–∏–µ + –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ).

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `adminLimit` (number, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 20) - –õ–∏–º–∏—Ç –∞–¥–º–∏–Ω—Å–∫–∏—Ö –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
- `clientLimit` (number, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 20) - –õ–∏–º–∏—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:**
```json
{
  "ok": true,
  "data": {
    "admin": {
      "promos": [
        {
          "code": "444",
          "type": "BALANCE",
          "amount": 500,
          "days": null,
          "isReusable": false,
          "customName": null,
          "useCount": 0,
          "createdAt": "2026-01-20T10:00:00.000Z",
          "createdBy": "683203214",
          "promoType": "admin"
        },
        {
          "code": "BLOGER2024",
          "type": "DAYS",
          "amount": null,
          "days": 30,
          "isReusable": true,
          "customName": "–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π",
          "useCount": 5,
          "createdAt": "2026-01-20T11:00:00.000Z",
          "createdBy": "683203214",
          "promoType": "admin"
        }
      ],
      "total": 2
    },
    "client": {
      "promos": [
        {
          "code": "A1B2C3D4",
          "username": "@username",
          "telegramId": "123456789",
          "activationsCount": 3,
          "createdAt": "2026-01-19T10:00:00.000Z",
          "promoType": "client"
        }
      ],
      "total": 1
    }
  }
}
```

---

## üîê –ê–¥–º–∏–Ω—Å–∫–∏–µ Endpoints (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)

### GET `/api/promo/admin/list`

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–¥–º–∏–Ω—Å–∫–∏—Ö –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤.

**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**
```
X-Admin-Secret: –≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á
```

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `limit` (number, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50) - –õ–∏–º–∏—Ç –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
- `offset` (number, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0) - –°–º–µ—â–µ–Ω–∏–µ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:**
```json
{
  "ok": true,
  "data": {
    "promos": [
      {
        "id": 1,
        "code": "444",
        "type": "BALANCE",
        "amount": 500,
        "days": null,
        "isReusable": false,
        "customName": null,
        "useCount": 0,
        "createdAt": "2026-01-20T10:00:00.000Z",
        "createdBy": "683203214",
        "isUsed": false
      },
      {
        "id": 2,
        "code": "BLOGER2024",
        "type": "DAYS",
        "amount": null,
        "days": 30,
        "isReusable": true,
        "customName": "–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π",
        "useCount": 5,
        "createdAt": "2026-01-20T11:00:00.000Z",
        "createdBy": "683203214",
        "isUsed": false
      }
    ],
    "total": 2,
    "limit": 50,
    "offset": 0
  }
}
```

---

### GET `/api/promo/client/list`

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö (—Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã—Ö) –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤.

**–ó–∞–≥–æ–ª–æ–≤–∫–∏:**
```
X-Admin-Secret: –≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á
```

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `limit` (number, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50) - –õ–∏–º–∏—Ç –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
- `offset` (number, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0) - –°–º–µ—â–µ–Ω–∏–µ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
- `withActivations` (boolean, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é false) - –í–∫–ª—é—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∞–∫—Ç–∏–≤–∞—Ü–∏—è—Ö

**–£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç:**
```json
{
  "ok": true,
  "data": {
    "promos": [
      {
        "userId": 1,
        "telegramId": "123456789",
        "username": "@username",
        "promoCode": "A1B2C3D4",
        "createdAt": "2026-01-19T10:00:00.000Z"
      }
    ],
    "total": 1,
    "limit": 50,
    "offset": 0
  }
}
```

---

## üìä –¢–∏–ø—ã –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤

### –¢–∏–ø—ã (`promoType`):
- `"referral"` - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `"admin_balance"` - –ê–¥–º–∏–Ω—Å–∫–∏–π –ø—Ä–æ–º–æ–∫–æ–¥ –Ω–∞ –±–∞–ª–∞–Ω—Å
- `"admin_days"` - –ê–¥–º–∏–Ω—Å–∫–∏–π –ø—Ä–æ–º–æ–∫–æ–¥ –Ω–∞ –¥–Ω–∏ –ø–æ–¥–ø–∏—Å–∫–∏

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (`promoCategory`):
- `"money"` - –ü—Ä–æ–º–æ–∫–æ–¥ –Ω–∞ –¥–µ–Ω—å–≥–∏ (–±–∞–ª–∞–Ω—Å)
- `"days"` - –ü—Ä–æ–º–æ–∫–æ–¥ –Ω–∞ –¥–Ω–∏ –ø–æ–¥–ø–∏—Å–∫–∏
- `"referral"` - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥ (3 –¥–Ω—è –ø–æ–¥–ø–∏—Å–∫–∏)

---

## üîÑ –õ–æ–≥–∏–∫–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

1. **–†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã:**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ **1 —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥** (–ª—é–±–æ–π)
   - –ù–µ–ª—å–∑—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥

2. **–ê–¥–º–∏–Ω—Å–∫–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã:**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å **–æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –ø—Ä–æ–º–æ–∫–æ–¥ —Ç–æ–ª—å–∫–æ 1 —Ä–∞–∑**
   - –†–∞–∑–Ω—ã–µ –∞–¥–º–∏–Ω—Å–∫–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã –º–æ–∂–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ —Ä–∞–∑
   - –ú–Ω–æ–≥–æ—Ä–∞–∑–æ–≤—ã–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã (`isReusable: true`) –º–æ–≥—É—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –Ω–æ –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–æ–ª—å–∫–æ 1 —Ä–∞–∑

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞:

API –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –ø—Ä–æ–º–æ–∫–æ–¥–∞:
1. –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∞–¥–º–∏–Ω—Å–∫–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã (–ø–æ –∫–æ–¥—É)
2. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã
3. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### JavaScript (fetch)

```javascript
// –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–∞
const response = await fetch('https://grangy.ru/api/promo/activate', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    telegramId: '683203214',
    code: '444'
  })
});

const data = await response.json();

if (data.ok) {
  if (data.data.promoCategory === 'money') {
    console.log(`–ù–∞—á–∏—Å–ª–µ–Ω–æ: ${data.data.reward.amount} ‚ÇΩ`);
    console.log(`–ë–∞–ª–∞–Ω—Å: ${data.data.balance.current} ‚ÇΩ`);
  } else if (data.data.promoCategory === 'days') {
    console.log(`–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ ${data.data.reward.days} –¥–Ω–µ–π`);
    console.log(`–°—Å—ã–ª–∫–∞: ${data.data.subscription.subscriptionUrl}`);
  }
} else {
  console.error('–û—à–∏–±–∫–∞:', data.message);
}
```

### cURL

```bash
# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–∞
curl -X POST https://grangy.ru/api/promo/activate \
  -H "Content-Type: application/json" \
  -d '{
    "telegramId": "683203214",
    "code": "444"
  }'

# –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl https://grangy.ru/api/promo/user/683203214/promo

# –°–ø–∏—Å–æ–∫ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
curl https://grangy.ru/api/promo/admin/list \
  -H "X-Admin-Secret: –≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á"
```

---

## ‚ö†Ô∏è –ö–æ–¥—ã –æ—à–∏–±–æ–∫

- `INVALID_PARAMS` - –ù–µ–≤–µ—Ä–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
- `USER_NOT_FOUND` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω
- `ACTIVATION_FAILED` - –û—à–∏–±–∫–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ (–¥–µ—Ç–∞–ª–∏ –≤ `message`)
- `SERVER_ERROR` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
- `UNAUTHORIZED` - –ù–µ–≤–µ—Ä–Ω—ã–π —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á (–¥–ª—è –∞–¥–º–∏–Ω—Å–∫–∏—Ö endpoints)

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ endpoints

- `GET /api/user/:telegramId` - –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- `GET /api/user/:telegramId/subscriptions` - –ü–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/user/:telegramId/balance` - –ë–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

**–í–µ—Ä—Å–∏—è API:** 2.0.0  
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2026-01-20
